function showComments(post)		    port = CreateObject("roMessagePort")    dialog = showLoadingScreen( post.Title, port)	seperator = "------------------------------------------------------------------------------------------------"	screen = CreateObject("roTextScreen")	    screen.SetMessagePort(port)	body = post.Title + chr(10)	body = body + seperator + chr(10)		if(post.selftext <> invalid AND post.selftext <> "")		body = body + post.selftext + chr(10)		body = body + seperator + chr(10)		END IF	  	 screen.AddButton(1,"back")	 	 screen.SetBreadcrumbText("Up: " + post.ups , "Down: " + post.downs)  'contains the up and downvotes	 if(len(post.Title) > 43)		 screen.SetHeaderText(left(post.Title,43) + "...")  ' truncate this to 43 characters	 else		screen.SetHeaderText(post.Title)  ' truncate this to 43 characters	 end if     	http = NewHttp2("http://www.reddit.com/comments/"+post.id+".json?depth=4", "application/json")	response= http.GetToStringWithTimeout(90)	json = ParseJSON(response)		if(json = invalid)		dialog.Close()		return invalid	END IF		comments = json[1]			for each comment in comments.data.children			MOAR = getComments(screen, comment,invalid, 0)			if(MOAR <> invalid)			body = body + MOAR + chr(10)			body = body + seperator + chr(10)			END IF	end for		screen.SetText(body)	screen.Show()	dialog.Close()       while true         msg = wait(0, screen.GetMessagePort())          if type(msg) = "roTextScreenEvent"             if msg.isScreenClosed()                 return -1             else if msg.isButtonPressed() then                 print "Evt:"; msg.GetMessage ();" idx:"; msg.GetIndex()                 if msg.GetIndex() = 1                     return -1                 endif             endif         endif     end while END FUNCTIONFUNCTION getComments(screen, comment,parentAuthor, depth)	if(comment.data.body <> invalid)		commentTxt = ""		body=  comment.data.body		author = comment.data.author		beforeText = "->"				if(depth > 0 )			beforeText = String(depth, "--" ) + ">" 			commentTxt = commentTxt + beforeText + author + " in reply to " + parentAuthor + "'s comment: " + chr(10)			commentTxt = commentTxt + body + chr(10)		else			' only add an extra line break when its a new comment thread			commentTxt = commentTxt + " "			commentTxt = commentTxt + author + " said: " + chr(10)			commentTxt = commentTxt + body + chr(10)		END IF		replies = comment.data.replies		if(type(replies) <> "String")		for each reply in replies.data.children			if(reply.kind= "t1")				MOAR = getComments(screen, reply, author,depth+1)				commentTxt = commentTxt + MOAR + chr(10)			end if	    end for		END IF				return commentTxt					END IFEND FUNCTION